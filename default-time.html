<!DOCTYPE html>
<html>
<head>

    <link rel="stylesheet" href="css/materialize.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <style type="text/css">
        .title{
            font-size: 16px;
        }

        .input-field{
            margin-top: 0px !important;
            margin-bottom: 0px !important;
        }

        .row .col.s4{
            text-align: left;
        }

        .wrapper {
            padding: 10px;
        }
        
    </style>
</head>

<body>

<!-- Compiled and minified JavaScript -->


<div class="title center-align" style = "margin-top: 0px;">
    <div>Reporting on Project: <i>Wirelescar 61727</i></div>
    <div>Reporting Period: Week 22 </div>

</div>

<div class="wrapper">
    <div class="row">
        <form class="col s12">
            <div class="row">

                <div class="row day valign-wrapper center-align">
                    <div class="col s4">Monday</div>
                    <div class="input-field inline col s8" style="margin:none;">
                        <input placeholder="hours" id="Monday" value="8" type="text" class="validate inline center-align">
                    </div>
                </div>

                <div class="row day valign-wrapper center-align">
                    <div class="col s4">Tuesday</div>
                    <div class="input-field inline col s8" style="margin:none;">
                        <input placeholder="hours" id="Tuesday" value="8" type="text" class="validate inline center-align">
                    </div>
                </div>

                <div class="row day valign-wrapper center-align">
                    <div class="col s4">Wednesday</div>
                    <div class="input-field inline col s8" style="margin:none;">
                        <input placeholder="hours" id="Wednesday" value="8" type="text" class="validate inline center-align">
                    </div>
                </div>

                <div class="row day valign-wrapper center-align">
                    <div class="col s4">Thursday</div>
                    <div class="input-field inline col s8" style="margin:none;">
                        <input placeholder="hours" id="Thursday" value="8" type="text" class="validate inline center-align">
                    </div>
                </div>

                <div class="row day valign-wrapper center-align">
                    <div class="col s4">Friday</div>
                    <div class="input-field inline col s8" style="margin:none;">
                        <input placeholder="hours" id="Friday" value="8" type="text" class="validate inline center-align">
                    </div>
                </div>

                <div class="input-field col s12 center-align">
                    <a id = "confirm" class="btn btn-large waves-effect waves-light center-align" type="submit" name="action" href="scoring.html">
                        Confirm
                    </a>
                    <br/>
                    <br/>
                    <a class="btn btn-small waves-effect waves-light center-align" type="submit" name="action" href="https://af-erp-test.ifs.cloud:48080/main/ifsapplications/web/">
                        Advanced
                    </a>
                </div>

            </div>
        </form>

    </div>
</div>

<script style="text/script">

     $("#confirm").click(function(){


        var data = [
            {date: '2021-05-31', hours: $("#Monday").val()},
            {date: '2021-06-01', hours: $("#Tuesday").val()},
            {date: '2021-06-02', hours: $("#Wednesday").val()},
            {date: '2021-06-03', hours: $("#Thursday").val()},
            {date: '2021-06-04', hours: $("#Friday").val()},
        ]

        console.log(JSON.stringify(data));

        request = $.ajax({
            url: "http://localhost:3000/report",
            type: "post",
            data: JSON.stringify(data),
            contentType: "application/json; charset=utf-8"
        });

        // Callback handler that will be called on success
        request.done(function (response, textStatus, jqXHR){
            // Log a message to the console
            console.log("Hooray, it worked!");
            location.href="scoring.html"
        });

        // Callback handler that will be called on failure
        request.fail(function (jqXHR, textStatus, errorThrown){
            // Log the error to the console
            console.error(
                "The following error occurred: "+
                textStatus, errorThrown
            );
        });

        return false;
     })

</script>
<!--JavaScript at end of body for optimized loading-->
</body>
</html>
